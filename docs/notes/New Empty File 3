print("ğŸš€ Ollama Coding Agent")
print("=" * 50)

# Initialize agent
try:
    agent = OllamaAgent()
    print("âœ… Agent initialized successfully\n")
except Exception as e:
    print(f"âŒ Error initializing agent: {e}")
    sys.exit(1)

# Interactive mode
if len(sys.argv) > 1:
    task = " ".join(sys.argv[1:])
    result = agent.run_task(task)
    print(f"\nâœ… Final Result:\n{result}")
else:
    print("Interactive mode. Type 'exit' to quit, 'reset' to clear history.\n")
    
    while True:
        try:
            user_input = input("You: ").strip()
            
            if not user_input:
                continue
            
            if user_input.lower() == 'exit':
                print("Goodbye!")
                break
            
            if user_input.lower() == 'reset':
                agent.reset()
                print("ğŸ”„ Conversation reset")
                continue
            
            if user_input.startswith('task:'):
                result = agent.run_task(user_input[5:].strip())
            else:
                result = agent.chat(user_input)
            
            print(f"\nğŸ¤– Agent: {result}\n")
            
        except KeyboardInterrupt:
            print("\n\nGoodbye!")
            break
        except Exception as e:
            print(f"âŒ Error: {e}\n")